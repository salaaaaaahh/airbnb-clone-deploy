<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Airbnb Clone - Find Your Perfect Stay</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            font-size: 2em;
            font-weight: bold;
            color: #ff5a5f;
            text-decoration: none;
        }

        .search-container {
            flex: 1;
            max-width: 600px;
            position: relative;
        }

        .search-box {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #ddd;
            border-radius: 50px;
            padding: 15px 20px;
            font-size: 1em;
            width: 100%;
            transition: all 0.3s ease;
        }

        .search-box:focus {
            outline: none;
            border-color: #ff5a5f;
            box-shadow: 0 0 20px rgba(255, 90, 95, 0.3);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #ff5a5f;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        /* Filters */
        .filters {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .filter-row {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .date-inputs {
            display: flex;
            gap: 10px;
            flex: 1;
        }

        .date-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .date-input:focus {
            outline: none;
            border-color: #ff5a5f;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 12px 20px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .filter-btn:hover, .filter-btn.active {
            background: #ff5a5f;
            color: white;
            border-color: #ff5a5f;
            transform: translateY(-2px);
        }

        .search-btn {
            background: linear-gradient(45deg, #ff5a5f, #ff7b7f);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 90, 95, 0.4);
        }

        /* Listings Grid */
        .listings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        .listing-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .listing-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
        }

        .listing-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            position: relative;
            overflow: hidden;
        }

        .listing-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .listing-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255, 90, 95, 0.9);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .favorite-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .favorite-btn:hover {
            background: white;
            transform: scale(1.1);
        }

        .favorite-btn.active {
            color: #ff5a5f;
        }

        .listing-info {
            padding: 25px;
        }

        .listing-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .listing-location {
            color: #666;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .listing-features {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .feature {
            display: flex;
            align-items: center;
            gap: 5px;
            color: #666;
            font-size: 0.9em;
        }

        .listing-rating {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .stars {
            color: #ffc107;
        }

        .rating-text {
            color: #666;
            font-size: 0.9em;
        }

        .listing-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .price {
            font-size: 1.4em;
            font-weight: bold;
            color: #ff5a5f;
        }

        .book-btn {
            background: linear-gradient(45deg, #ff5a5f, #ff7b7f);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .book-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 90, 95, 0.4);
        }

        /* Loading and Empty States */
        .loading {
            text-align: center;
            padding: 50px;
            color: white;
            font-size: 1.2em;
        }

        .no-results {
            text-align: center;
            padding: 50px;
            color: white;
            font-size: 1.2em;
        }

        /* Property Details Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            overflow-y: auto;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            position: relative;
            height: 400px;
            overflow: hidden;
            border-radius: 20px 20px 0 0;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }

        .photo-gallery {
            position: relative;
            height: 100%;
        }

        .photo-main {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-nav {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }

        .photo-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .photo-dot.active {
            background: white;
            transform: scale(1.2);
        }

        .modal-body {
            padding: 30px;
        }

        .property-header {
            margin-bottom: 25px;
        }

        .property-title {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .property-location {
            font-size: 1.1em;
            color: #666;
            margin-bottom: 15px;
        }

        .property-stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
        }

        .property-rating-large {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1em;
        }

        .rating-stars-large {
            color: #ffc107;
            font-size: 1.2em;
        }

        .section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }

        .amenities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .amenity-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .amenity-icon {
            color: #ff5a5f;
            width: 20px;
        }

        .reviews-container {
            max-height: 300px;
            overflow-y: auto;
        }

        .review-item {
            padding: 20px;
            border-bottom: 1px solid #eee;
        }

        .review-item:last-child {
            border-bottom: none;
        }

        .review-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .reviewer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #ff5a5f;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .reviewer-info {
            flex: 1;
        }

        .reviewer-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .review-date {
            color: #666;
            font-size: 0.9em;
        }

        .review-rating {
            color: #ffc107;
            margin-bottom: 10px;
        }

        .review-text {
            color: #333;
            line-height: 1.5;
        }

        .booking-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
        }

        .booking-price {
            text-align: center;
            margin-bottom: 20px;
        }

        .price-large {
            font-size: 2.5em;
            font-weight: bold;
            color: #ff5a5f;
        }

        .price-period {
            color: #666;
            font-size: 1.1em;
        }

        .booking-form {
            display: grid;
            gap: 15px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }

        .form-input {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #ff5a5f;
        }

        .guests-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
        }

        .guests-btn {
            background: #ff5a5f;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .guests-count {
            font-weight: bold;
            min-width: 20px;
            text-align: center;
        }

        .booking-summary {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 5px 0;
        }

        .summary-row.total {
            border-top: 2px solid #eee;
            padding-top: 15px;
            margin-top: 15px;
            font-weight: bold;
            font-size: 1.2em;
        }

        .book-now-btn {
            width: 100%;
            background: linear-gradient(45deg, #ff5a5f, #ff7b7f);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .book-now-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 90, 95, 0.4);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav {
                flex-direction: column;
                gap: 15px;
            }

            .filter-row {
                flex-direction: column;
                gap: 15px;
            }

            .date-inputs {
                flex-direction: column;
            }

            .listings-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .container {
                padding: 15px;
            }

            .modal-content {
                margin: 10px;
                max-height: 95vh;
            }

            .modal-header {
                height: 250px;
            }

            .property-stats {
                flex-direction: column;
                gap: 10px;
            }

            .amenities-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .property-title {
                font-size: 1.5em;
            }

            .price-large {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <nav class="nav">
                <a href="index.html" class="logo">
                    <i class="fab fa-airbnb"></i> Airbnb
                </a>
                <div class="search-container">
                    <input type="text" class="search-box" placeholder="Search destinations..." id="searchInput">
                </div>
                <div class="user-menu">
                    <button class="user-avatar">U</button>
                </div>
            </nav>
        </header>

        <!-- Filters -->
        <section class="filters">
            <div class="filter-row">
                <div class="date-inputs">
                    <input type="text" class="date-input" placeholder="Check-in" id="checkinDate">
                    <input type="text" class="date-input" placeholder="Check-out" id="checkoutDate">
                </div>
                <div class="filter-buttons">
                    <button class="filter-btn" data-type="Villa">
                        <i class="fas fa-home"></i> Villa
                    </button>
                    <button class="filter-btn" data-type="Apartment">
                        <i class="fas fa-building"></i> Apartment
                    </button>
                    <button class="filter-btn" data-type="Cabin">
                        <i class="fas fa-mountain"></i> Cabin
                    </button>
                    <button class="filter-btn" data-type="Cottage">
                        <i class="fas fa-tree"></i> Cottage
                    </button>
                </div>
                <button class="search-btn" onclick="searchListings()">
                    <i class="fas fa-search"></i> Search
                </button>
            </div>
        </section>

        <!-- Listings Grid -->
        <main>
            <div class="listings-grid" id="listingsContainer">
                <!-- Listings will be rendered here -->
            </div>
            <div class="loading" id="loadingState" style="display: none;">
                <i class="fas fa-spinner fa-spin"></i> Loading amazing places...
            </div>
            <div class="no-results" id="noResults" style="display: none;">
                <i class="fas fa-search"></i> No properties found. Try adjusting your filters.
            </div>
        </main>
    </div>

    <!-- Property Details Modal -->
    <div class="modal" id="propertyModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="modal-header">
                <div class="photo-gallery">
                    <img class="photo-main" id="modalMainPhoto" src="" alt="">
                    <div class="photo-nav" id="photoNavigation">
                        <!-- Photo dots will be generated here -->
                    </div>
                </div>
            </div>
            
            <div class="modal-body">
                <div class="property-header">
                    <h1 class="property-title" id="modalTitle"></h1>
                    <div class="property-location" id="modalLocation"></div>
                    <div class="property-stats" id="modalStats"></div>
                    <div class="property-rating-large" id="modalRating"></div>
                </div>

                <div class="section">
                    <h2 class="section-title">About this place</h2>
                    <p id="modalDescription"></p>
                </div>

                <div class="section">
                    <h2 class="section-title">What this place offers</h2>
                    <div class="amenities-grid" id="modalAmenities">
                        <!-- Amenities will be populated here -->
                    </div>
                </div>

                <div class="section">
                    <h2 class="section-title">Reviews</h2>
                    <div class="reviews-container" id="modalReviews">
                        <!-- Reviews will be populated here -->
                    </div>
                </div>

                <div class="booking-section">
                    <div class="booking-price">
                        <span class="price-large" id="modalPrice"></span>
                        <span class="price-period">per night</span>
                    </div>
                    
                    <div class="booking-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Check-in</label>
                                <input type="text" class="form-input" id="modalCheckin" placeholder="Select date">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Check-out</label>
                                <input type="text" class="form-input" id="modalCheckout" placeholder="Select date">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Guests</label>
                            <div class="guests-selector">
                                <button class="guests-btn" onclick="changeGuests(-1)">-</button>
                                <span class="guests-count" id="guestsCount">2</span>
                                <button class="guests-btn" onclick="changeGuests(1)">+</button>
                                <span style="margin-left: 15px;">guests</span>
                            </div>
                        </div>
                        
                        <div class="booking-summary" id="bookingSummary">
                            <div class="summary-row">
                                <span>$<span id="nightlyRate">0</span> x <span id="totalNights">0</span> nights</span>
                                <span>$<span id="subtotal">0</span></span>
                            </div>
                            <div class="summary-row">
                                <span>Service fee</span>
                                <span>$<span id="serviceFee">0</span></span>
                            </div>
                            <div class="summary-row">
                                <span>Taxes</span>
                                <span>$<span id="taxes">0</span></span>
                            </div>
                            <div class="summary-row total">
                                <span>Total</span>
                                <span>$<span id="totalCost">0</span></span>
                            </div>
                        </div>
                        
                        <button class="book-now-btn" onclick="confirmBooking()">
                            Reserve
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        // Enhanced sample data with detailed information
        const listings = [
            {
                id: 1,
                title: "Luxury Villa with Ocean View",
                location: "Malibu, California",
                type: "Villa",
                price: 450,
                rating: 4.9,
                reviews: 127,
                bedrooms: 4,
                bathrooms: 3,
                guests: 8,
                image: "https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=400",
                badge: "Superhost",
                photos: [
                    "https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800",
                    "https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800",
                    "https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=800",
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800",
                    "https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=800"
                ],
                description: "Escape to this stunning oceanfront villa featuring panoramic views of the Pacific Ocean. This luxurious retreat offers modern amenities, spacious rooms, and direct beach access. Perfect for families or groups seeking an unforgettable coastal experience.",
                amenities: [
                    { icon: "fas fa-wifi", name: "High-speed WiFi" },
                    { icon: "fas fa-car", name: "Free parking" },
                    { icon: "fas fa-swimming-pool", name: "Private pool" },
                    { icon: "fas fa-hot-tub", name: "Hot tub" },
                    { icon: "fas fa-wind", name: "Ocean view" },
                    { icon: "fas fa-tv", name: "75\" Smart TV" },
                    { icon: "fas fa-utensils", name: "Full kitchen" },
                    { icon: "fas fa-fire", name: "Fireplace" },
                    { icon: "fas fa-dumbbell", name: "Home gym" },
                    { icon: "fas fa-cocktail", name: "Wet bar" },
                    { icon: "fas fa-umbrella-beach", name: "Beach access" },
                    { icon: "fas fa-concierge-bell", name: "Concierge service" }
                ],
                reviewsData: [
                    {
                        name: "Sarah M.",
                        avatar: "S",
                        rating: 5,
                        date: "2 weeks ago",
                        text: "Absolutely stunning property! The ocean views are breathtaking and the amenities are top-notch. The host was incredibly responsive and helpful throughout our stay."
                    },
                    {
                        name: "Mike R.",
                        avatar: "M", 
                        rating: 5,
                        date: "1 month ago",
                        text: "Perfect getaway spot. The pool area is amazing and the kitchen had everything we needed. Would definitely stay again!"
                    },
                    {
                        name: "Jennifer L.",
                        avatar: "J",
                        rating: 4,
                        date: "2 months ago",
                        text: "Beautiful location and very clean. The beach access was convenient. Only minor issue was the wifi speed, but overall excellent experience."
                    }
                ]
            },
            {
                id: 2,
                title: "Modern Downtown Apartment",
                location: "New York, NY",
                type: "Apartment",
                price: 280,
                rating: 4.7,
                reviews: 89,
                bedrooms: 2,
                bathrooms: 2,
                guests: 4,
                image: "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=400",
                badge: "Popular",
                photos: [
                    "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800",
                    "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",
                    "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800",
                    "https://images.unsplash.com/photo-1560185127-6ed189bf02f4?w=800"
                ],
                description: "Stay in the heart of Manhattan in this sleek, modern apartment. Walking distance to Times Square, Central Park, and world-class dining. Perfect for experiencing the energy of NYC.",
                amenities: [
                    { icon: "fas fa-wifi", name: "High-speed WiFi" },
                    { icon: "fas fa-subway", name: "Near subway" },
                    { icon: "fas fa-tv", name: "Smart TV" },
                    { icon: "fas fa-utensils", name: "Full kitchen" },
                    { icon: "fas fa-wind", name: "Air conditioning" },
                    { icon: "fas fa-shield-alt", name: "Security system" },
                    { icon: "fas fa-elevator", name: "Elevator access" },
                    { icon: "fas fa-city", name: "City view" }
                ],
                reviewsData: [
                    {
                        name: "David K.",
                        avatar: "D",
                        rating: 5,
                        date: "1 week ago",
                        text: "Perfect location for exploring NYC! Clean, modern, and the host provided great local recommendations."
                    },
                    {
                        name: "Anna P.",
                        avatar: "A",
                        rating: 4,
                        date: "3 weeks ago",
                        text: "Great apartment in excellent location. Very convenient to everything we wanted to see."
                    }
                ]
            },
            {
                id: 3,
                title: "Cozy Mountain Cabin",
                location: "Aspen, Colorado",
                type: "Cabin",
                price: 320,
                rating: 4.8,
                reviews: 156,
                bedrooms: 3,
                bathrooms: 2,
                guests: 6,
                image: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=400",
                badge: "Mountain View",
                photos: [
                    "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800",
                    "https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800",
                    "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800",
                    "https://images.unsplash.com/photo-1551524164-6cf17ac93611?w=800"
                ],
                description: "Rustic charm meets modern comfort in this beautiful mountain cabin. Surrounded by pristine nature with hiking trails at your doorstep. Perfect for a peaceful retreat.",
                amenities: [
                    { icon: "fas fa-wifi", name: "WiFi" },
                    { icon: "fas fa-car", name: "Free parking" },
                    { icon: "fas fa-fire", name: "Wood fireplace" },
                    { icon: "fas fa-hot-tub", name: "Hot tub" },
                    { icon: "fas fa-mountain", name: "Mountain view" },
                    { icon: "fas fa-hiking", name: "Hiking trails" },
                    { icon: "fas fa-utensils", name: "Full kitchen" },
                    { icon: "fas fa-snowflake", name: "Ski access" }
                ],
                reviewsData: [
                    {
                        name: "Robert T.",
                        avatar: "R",
                        rating: 5,
                        date: "2 days ago",
                        text: "Amazing cabin with incredible views! The hot tub under the stars was magical. Highly recommend for a mountain getaway."
                    },
                    {
                        name: "Lisa C.",
                        avatar: "L",
                        rating: 5,
                        date: "1 week ago",
                        text: "Perfect retreat from city life. The cabin was spotless and had everything we needed."
                    }
                ]
            },
            {
                id: 4,
                title: "Charming Country Cottage",
                location: "Cotswolds, England",
                type: "Cottage",
                price: 195,
                rating: 4.6,
                reviews: 78,
                bedrooms: 2,
                bathrooms: 1,
                guests: 4,
                image: "https://images.unsplash.com/photo-1518780664697-55e3ad937233?w=400",
                badge: "Historic",
                photos: [
                    "https://images.unsplash.com/photo-1518780664697-55e3ad937233?w=800",
                    "https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=800",
                    "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800"
                ],
                description: "Step back in time in this enchanting 17th-century cottage. Original features blend seamlessly with modern comforts in the heart of the picturesque Cotswolds.",
                amenities: [
                    { icon: "fas fa-wifi", name: "WiFi" },
                    { icon: "fas fa-car", name: "Parking" },
                    { icon: "fas fa-fire", name: "Fireplace" },
                    { icon: "fas fa-leaf", name: "Garden" },
                    { icon: "fas fa-utensils", name: "Kitchen" },
                    { icon: "fas fa-monument", name: "Historic charm" }
                ],
                reviewsData: [
                    {
                        name: "Emma W.",
                        avatar: "E",
                        rating: 5,
                        date: "3 days ago",
                        text: "Absolutely charming cottage! The attention to detail and historic character made our stay unforgettable."
                    }
                ]
            },
            {
                id: 5,
                title: "Beach Front Villa",
                location: "Miami, Florida",
                type: "Villa",
                price: 580,
                rating: 4.9,
                reviews: 203,
                bedrooms: 5,
                bathrooms: 4,
                guests: 10,
                image: "https://images.unsplash.com/photo-1566073771259-6a8506099945?w=400",
                badge: "Beach Access",
                photos: [
                    "https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800",
                    "https://images.unsplash.com/photo-1571896349842-33c89424de2d?w=800",
                    "https://images.unsplash.com/photo-1582268611958-ebfd161ef9cf?w=800"
                ],
                description: "Luxury beachfront villa with direct beach access and stunning ocean views. Features a private pool, gourmet kitchen, and spacious entertaining areas.",
                amenities: [
                    { icon: "fas fa-wifi", name: "WiFi" },
                    { icon: "fas fa-swimming-pool", name: "Private pool" },
                    { icon: "fas fa-umbrella-beach", name: "Beach access" },
                    { icon: "fas fa-wind", name: "Ocean view" },
                    { icon: "fas fa-utensils", name: "Gourmet kitchen" },
                    { icon: "fas fa-car", name: "Parking" }
                ],
                reviewsData: [
                    {
                        name: "Carlos M.",
                        avatar: "C",
                        rating: 5,
                        date: "5 days ago",
                        text: "Incredible beachfront location! The villa exceeded all expectations. Perfect for our family vacation."
                    }
                ]
            },
            {
                id: 6,
                title: "Urban Loft Studio",
                location: "San Francisco, CA",
                type: "Apartment",
                price: 225,
                rating: 4.5,
                reviews: 67,
                bedrooms: 1,
                bathrooms: 1,
                guests: 2,
                image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=400",
                badge: "City View",
                photos: [
                    "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",
                    "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800"
                ],
                description: "Modern loft in the heart of San Francisco with panoramic city views. Walking distance to tech companies and vibrant neighborhoods.",
                amenities: [
                    { icon: "fas fa-wifi", name: "WiFi" },
                    { icon: "fas fa-city", name: "City view" },
                    { icon: "fas fa-elevator", name: "Elevator" },
                    { icon: "fas fa-utensils", name: "Kitchen" },
                    { icon: "fas fa-tv", name: "Smart TV" }
                ],
                reviewsData: [
                    {
                        name: "Tech Worker",
                        avatar: "T",
                        rating: 4,
                        date: "1 week ago",
                        text: "Great location for work trips. Clean and modern with amazing city views."
                    }
                ]
            }
        ];

        // State management
        let state = {
            currentFilter: 'all',
            searchResults: [],
            favorites: new Set(),
            currentListing: null,
            currentPhotoIndex: 0,
            guestCount: 2,
            checkinDate: null,
            checkoutDate: null
        };

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeDatePickers();
            initializeFilters();
            renderListings();
        });

        // Initialize date pickers
        function initializeDatePickers() {
            flatpickr("#checkinDate", {
                dateFormat: "Y-m-d",
                minDate: "today",
                onChange: function(selectedDates) {
                    state.checkinDate = selectedDates[0];
                    updateBookingSummary();
                }
            });
            
            flatpickr("#checkoutDate", {
                dateFormat: "Y-m-d",
                minDate: "today",
                onChange: function(selectedDates) {
                    state.checkoutDate = selectedDates[0];
                    updateBookingSummary();
                }
            });

            // Modal date pickers
            flatpickr("#modalCheckin", {
                dateFormat: "Y-m-d",
                minDate: "today",
                onChange: function(selectedDates) {
                    state.checkinDate = selectedDates[0];
                    updateBookingSummary();
                }
            });
            
            flatpickr("#modalCheckout", {
                dateFormat: "Y-m-d",
                minDate: "today",
                onChange: function(selectedDates) {
                    state.checkoutDate = selectedDates[0];
                    updateBookingSummary();
                }
            });
        }

        // Initialize filter buttons
        function initializeFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterButtons.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked button
                    btn.classList.add('active');
                    state.currentFilter = btn.dataset.type;
                    renderListings();
                });
            });
        }

        // Filter listings based on current filter
        function getFilteredListings() {
            if (state.currentFilter === 'all') {
                return listings;
            }
            return listings.filter(listing => listing.type === state.currentFilter);
        }

        // Create listing card
        function createListingCard(listing) {
            const card = document.createElement('div');
            card.className = 'listing-card';
            card.onclick = () => openListing(listing.id);

            const isFavorite = state.favorites.has(listing.id);
            
            card.innerHTML = `
                <div class="listing-image">
                    <img src="${listing.image}" alt="${listing.title}" loading="lazy">
                    <div class="listing-badge">${listing.badge}</div>
                    <button class="favorite-btn ${isFavorite ? 'active' : ''}" onclick="event.stopPropagation(); toggleFavorite(${listing.id})">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
                <div class="listing-info">
                    <h3 class="listing-title">${listing.title}</h3>
                    <div class="listing-location">
                        <i class="fas fa-map-marker-alt"></i>
                        ${listing.location}
                    </div>
                    <div class="listing-features">
                        <div class="feature">
                            <i class="fas fa-bed"></i>
                            ${listing.bedrooms} beds
                        </div>
                        <div class="feature">
                            <i class="fas fa-bath"></i>
                            ${listing.bathrooms} baths
                        </div>
                        <div class="feature">
                            <i class="fas fa-users"></i>
                            ${listing.guests} guests
                        </div>
                    </div>
                    <div class="listing-rating">
                        <div class="stars">
                            ${'★'.repeat(Math.floor(listing.rating))}
                        </div>
                        <span class="rating-text">${listing.rating} (${listing.reviews} reviews)</span>
                    </div>
                    <div class="listing-price">
                        <div class="price">$${listing.price}/night</div>
                        <button class="book-btn" onclick="event.stopPropagation(); bookListing(${listing.id})">
                            Book Now
                        </button>
                    </div>
                </div>
            `;
            
            return card;
        }

        // Render all listings
        function renderListings() {
            const container = document.getElementById('listingsContainer');
            const loadingState = document.getElementById('loadingState');
            const noResults = document.getElementById('noResults');
            
            // Show loading
            loadingState.style.display = 'block';
            noResults.style.display = 'none';
            container.innerHTML = '';
            
            // Simulate loading delay
            setTimeout(() => {
                loadingState.style.display = 'none';
                
                const listingsToShow = state.searchResults.length > 0 ? state.searchResults : getFilteredListings();
                
                if (listingsToShow.length === 0) {
                    noResults.style.display = 'block';
                    return;
                }
                
                listingsToShow.forEach(listing => {
                    const card = createListingCard(listing);
                    container.appendChild(card);
                });
            }, 500);
        }

        // Search functionality
        function searchListings() {
            const searchInput = document.getElementById('searchInput');
            const query = searchInput.value.toLowerCase();
            
            if (query.trim() === '') {
                state.searchResults = [];
            } else {
                state.searchResults = listings.filter(listing => 
                    listing.title.toLowerCase().includes(query) ||
                    listing.location.toLowerCase().includes(query) ||
                    listing.type.toLowerCase().includes(query)
                );
            }
            
            renderListings();
        }

        // Search on Enter key
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchListings();
            }
        });

        // Toggle favorite
        function toggleFavorite(listingId) {
            if (state.favorites.has(listingId)) {
                state.favorites.delete(listingId);
            } else {
                state.favorites.add(listingId);
            }
            renderListings();
        }

        // Open listing details modal
        function openListing(listingId) {
            const listing = listings.find(l => l.id === listingId);
            if (!listing) return;

            state.currentListing = listing;
            state.currentPhotoIndex = 0;
            
            // Populate modal content
            document.getElementById('modalTitle').textContent = listing.title;
            document.getElementById('modalLocation').textContent = listing.location;
            document.getElementById('modalPrice').textContent = `$${listing.price}`;
            document.getElementById('modalDescription').textContent = listing.description;
            
            // Set main photo
            document.getElementById('modalMainPhoto').src = listing.photos[0];
            
            // Populate stats
            document.getElementById('modalStats').innerHTML = `
                <div class="stat-item">
                    <i class="fas fa-bed"></i>
                    <span>${listing.bedrooms} bedrooms</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-bath"></i>
                    <span>${listing.bathrooms} bathrooms</span>
                </div>
                <div class="stat-item">
                    <i class="fas fa-users"></i>
                    <span>Up to ${listing.guests} guests</span>
                </div>
            `;
            
            // Populate rating
            document.getElementById('modalRating').innerHTML = `
                <div class="rating-stars-large">
                    ${'★'.repeat(Math.floor(listing.rating))}
                </div>
                <span>${listing.rating} • ${listing.reviews} reviews</span>
            `;
            
            // Populate amenities
            const amenitiesContainer = document.getElementById('modalAmenities');
            amenitiesContainer.innerHTML = '';
            listing.amenities.forEach(amenity => {
                const amenityEl = document.createElement('div');
                amenityEl.className = 'amenity-item';
                amenityEl.innerHTML = `
                    <i class="${amenity.icon} amenity-icon"></i>
                    <span>${amenity.name}</span>
                `;
                amenitiesContainer.appendChild(amenityEl);
            });
            
            // Populate reviews
            const reviewsContainer = document.getElementById('modalReviews');
            reviewsContainer.innerHTML = '';
            listing.reviewsData.forEach(review => {
                const reviewEl = document.createElement('div');
                reviewEl.className = 'review-item';
                reviewEl.innerHTML = `
                    <div class="review-header">
                        <div class="reviewer-avatar">${review.avatar}</div>
                        <div class="reviewer-info">
                            <div class="reviewer-name">${review.name}</div>
                            <div class="review-date">${review.date}</div>
                        </div>
                    </div>
                    <div class="review-rating">
                        ${'★'.repeat(review.rating)}
                    </div>
                    <div class="review-text">${review.text}</div>
                `;
                reviewsContainer.appendChild(reviewEl);
            });
            
            // Create photo navigation
            createPhotoNavigation(listing.photos);
            
            // Update booking form
            document.getElementById('nightlyRate').textContent = listing.price;
            document.getElementById('guestsCount').textContent = state.guestCount;
            
            // Update booking summary
            updateBookingSummary();
            
            // Show modal
            document.getElementById('propertyModal').classList.add('active');
        }

        // Create photo navigation dots
        function createPhotoNavigation(photos) {
            const navigation = document.getElementById('photoNavigation');
            navigation.innerHTML = '';
            
            photos.forEach((photo, index) => {
                const dot = document.createElement('div');
                dot.className = `photo-dot ${index === 0 ? 'active' : ''}`;
                dot.onclick = () => changePhoto(index);
                navigation.appendChild(dot);
            });
        }

        // Change photo in modal
        function changePhoto(index) {
            if (!state.currentListing) return;
            
            state.currentPhotoIndex = index;
            document.getElementById('modalMainPhoto').src = state.currentListing.photos[index];
            
            // Update navigation dots
            const dots = document.querySelectorAll('.photo-dot');
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
        }

        // Close modal
        function closeModal() {
            document.getElementById('propertyModal').classList.remove('active');
            state.currentListing = null;
        }

        // Change guest count
        function changeGuests(change) {
            const newCount = state.guestCount + change;
            if (newCount >= 1 && newCount <= 16) {
                state.guestCount = newCount;
                document.getElementById('guestsCount').textContent = state.guestCount;
                updateBookingSummary();
            }
        }

        // Update booking summary
        function updateBookingSummary() {
            if (!state.currentListing || !state.checkinDate || !state.checkoutDate) {
                document.getElementById('totalNights').textContent = '0';
                document.getElementById('subtotal').textContent = '0';
                document.getElementById('serviceFee').textContent = '0';
                document.getElementById('taxes').textContent = '0';
                document.getElementById('totalCost').textContent = '0';
                return;
            }
            
            const nights = Math.ceil((state.checkoutDate - state.checkinDate) / (1000 * 60 * 60 * 24));
            const subtotal = state.currentListing.price * nights;
            const serviceFee = Math.round(subtotal * 0.14);
            const taxes = Math.round(subtotal * 0.08);
            const total = subtotal + serviceFee + taxes;
            
            document.getElementById('totalNights').textContent = nights;
            document.getElementById('subtotal').textContent = subtotal;
            document.getElementById('serviceFee').textContent = serviceFee;
            document.getElementById('taxes').textContent = taxes;
            document.getElementById('totalCost').textContent = total;
        }

        // Book listing (from card)
        function bookListing(listingId) {
            openListing(listingId);
        }

        // Confirm booking
        function confirmBooking() {
            if (!state.currentListing || !state.checkinDate || !state.checkoutDate) {
                alert('Please select check-in and check-out dates.');
                return;
            }
            
            const nights = Math.ceil((state.checkoutDate - state.checkinDate) / (1000 * 60 * 60 * 24));
            const total = document.getElementById('totalCost').textContent;
            
            alert(`🎉 Booking Confirmed!\n\nProperty: ${state.currentListing.title}\nGuests: ${state.guestCount}\nNights: ${nights}\nTotal Cost: $${total}\n\nYou will receive a confirmation email shortly.`);
            
            closeModal();
        }

        // Close modal when clicking outside
        document.getElementById('propertyModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>
